<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Visor 360ยบ GDIE P2</title>
    <script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
    <script src="https://cdn.dashjs.org/latest/dash.all.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>

<!--al fer click a la esfera verda, redireccionar la web-->
<script>
    AFRAME.registerComponent('clickable', {
        init: function () {
            debugger;
            this.index = 0;
            this.el.addEventListener('click', e => {
                if (this.el.id === "r12b") {
                    window.location.hash = "r12b";
                }else if (this.el.id === "p18"){
                    console.log(this.el.id);
                    window.location.hash = "p18";
                }else if (this.el.id === "r4b"){
                    console.log(this.el.id);
                    window.location.hash = "r4b";
                }else if (this.el.id === "p5"){
                    console.log(this.el.id);
                    window.location.hash = "p5";
                }else if (this.el.id === "r21a"){
                    console.log(this.el.id);
                    window.location.hash = "r21a";
                }

            });
        }
    });
</script>

<!--listener hashstagechange: al canviar de hash, realitzar unes accions determinades-->



<a-scene id="escena" inspector="" keyboard-shortcuts="" screenshot="" vr-mode-ui="">
    <a-assets>
        <video data-dashjs-player id="idsrc" autoplay crossorigin loop muted
               src="https://ltim.uib.es/files/palma360/r20a/720.mp4">
        </video>
    </a-assets>
    <a-videosphere rotation="0 -90 0" src="#idsrc"></a-videosphere>
    <a-entity id="punts">
        <a-text value="r4b" width="15" position="-10.000 2.500 2.500"
                rotation="0.000 90.000 -2.000" text=""></a-text>
    </a-entity >

   <a-entity  camera="" look-controls="" position="0 1.6 0" rotation="">
       <a-entity cursor="" position="0 0 -1" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                 material="color: black; shader: flat" raycaster="" >
       </a-entity>
   </a-entity>

   <canvas class="a-canvas a-grab-cursor" data-aframe-canvas="true" width="1366" height="635" style=""></canvas>
   <div class="a-loader-title" style="display: none;">GDIE 360ยบ</div>
   <div class="a-enter-vr" aframe-injected="">
       <button class="a-enter-vr-button"
               title="Enter VR mode with a headset or fullscreen mode on a desktop."
               aframe-injected=""></button>
   </div>
   <div class="a-orientation-modal a-hidden" aframe-injected="">
       <button aframe-injected="">Exit VR</button>
   </div>
   <a-entity light="" data-aframe-default-light="" aframe-injected=""></a-entity>
   <a-entity light="" position="" data-aframe-default-light="" aframe-injected=""></a-entity>
   </a-scene>
<script src="functions.js"></script>
</body>
</html>